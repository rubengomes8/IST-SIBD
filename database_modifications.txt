update person
set person.city = 'Croydon'
set person.street = 'Main St'
when person.name = 'John Smith' and person.VAT in (select client.VAT from client);





update indicator
set indicator.reference_vaule = indicator.reference_value * 1.1
where indicator.units = 'milligrams' and indicator.name in 
	(select produced_indicator.indicator_name 	
		from produced_indicator natural join test_procedure
	where test_procedure.type = 'blood');





delete from client
where client.VAT in 
	(select person.VAT from person
		where person.name = 'John Smith' and person.VAT = client.VAT)





insert into diagnosis_code values('RENDES','End-Stage renal disease');
update consult_diagnosis as cd
set cd.code = 'RENDES'
where exists (
	select * from produced_indicator as pi
	where pi.indicator_name = 'creatinine level' and pi.value > 1.0
	and pi.name = cd.name and pi.VAT_owner = cd.VAT_owner and pi.date_timestamp = cd.date_timestamp);